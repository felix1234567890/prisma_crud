# Migration `20200820095530-user-created`

This migration has been generated by felix1234567890 at 8/20/2020, 11:55:30 AM.
You can check out the [state of the schema](./schema.prisma) after the migration.

## Database Steps

```sql
ALTER TABLE `emp`.`profiles` DROP FOREIGN KEY `profiles_ibfk_1`

ALTER TABLE `emp`.`timesheets` DROP FOREIGN KEY `timesheets_ibfk_1`

CREATE TABLE `emp`.`User` (
`id` int  NOT NULL  AUTO_INCREMENT,
`username` varchar(191)  NOT NULL ,
`email` varchar(191)  NOT NULL ,
`password` varchar(191)  NOT NULL ,
`married` boolean  ,
`role` ENUM('USER', 'ADMIN')  NOT NULL DEFAULT 'USER',
`createdAt` datetime(3)  NOT NULL DEFAULT CURRENT_TIMESTAMP(3),
UNIQUE Index `User.username_unique`(`username`),
UNIQUE Index `User.email_unique`(`email`),
PRIMARY KEY (`id`)
) DEFAULT CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci

DROP TABLE `emp`.`SequelizeMeta`

DROP TABLE `emp`.`Users`

DROP TABLE `emp`.`departments`

DROP TABLE `emp`.`employees`

DROP TABLE `emp`.`hibernate_sequence`

DROP TABLE `emp`.`migrations`

DROP TABLE `emp`.`profiles`

DROP TABLE `emp`.`timesheets`

DROP TABLE `emp`.`users`
```

## Changes

```diff
diff --git schema.prisma schema.prisma
migration ..20200820095530-user-created
--- datamodel.dml
+++ datamodel.dml
@@ -1,0 +1,25 @@
+// This is your Prisma schema file,
+// learn more about it in the docs: https://pris.ly/d/prisma-schema
+
+datasource db {
+  provider = "mysql"
+  url = "***"
+}
+
+generator client {
+  provider = "prisma-client-js"
+}
+
+model User {
+  id Int @default(autoincrement()) @id
+  username String @unique
+  email String @unique
+  password String
+  married Boolean?
+  role Role @default(USER)
+  createdAt DateTime @default(now())
+}
+enum Role {
+  USER
+  ADMIN
+}
```


